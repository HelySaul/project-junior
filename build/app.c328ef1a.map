{"version":3,"sources":["app.js"],"names":["budgetController","Expense","id","description","value","percentage","prototype","calcPercentage","totalIncome","Math","round","getPercentage","Income","calculateTotal","type","sum","data","allItems","forEach","cur","totals","exp","inc","budget","addItem","des","val","newItem","ID","length","push","deleteItem","ids","index","map","current","indexOf","splice","calculateBudget","calculatePercentages","getPercentages","allPerc","getBudget","totalInc","totalExp","testing","console","log","UIController","DOMstrings","inputType","inputDescription","inputValue","inputBtn","incomeContainer","expensesContainer","budgetLabel","incomeLabel","expensesLabel","percentageLabel","container","expensesPercLabel","dateLabel","formatNumber","num","numSplit","int","dec","abs","toFixed","split","substr","nodeListForEach","list","callback","i","getInput","document","querySelector","parseFloat","addListItem","obj","html","newHtml","element","replace","insertAdjacentHTML","deleteListItem","selectorID","el","getElementById","parentNode","removeChild","clearFields","fields","fieldsArr","querySelectorAll","Array","slice","call","array","focus","displayBudget","textContent","displayPercentages","percentages","displayMonth","now","months","month","year","Date","getMonth","getFullYear","changedType","classList","toggle","getDOMstrings","controller","budgetCtrl","UICtrl","setupEventListeners","DOM","addEventListener","ctrlAddItem","event","keyCode","which","ctrlDeleteItem","updateBudget","updatePercentages","input","isNaN","itemID","splitID","target","parseInt","init"],"mappings":"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","file":"app.c328ef1a.map","sourceRoot":"../src","sourcesContent":["// BUDGET CONTROLLER\nconst budgetController = (function() {\n  const Expense = function(id, description, value) {\n    this.id = id;\n    this.description = description;\n    this.value = value;\n    this.percentage = -1;\n  };\n\n\n  Expense.prototype.calcPercentage = function(totalIncome) {\n    if (totalIncome > 0) {\n      this.percentage = Math.round((this.value / totalIncome) * 100);\n    } else {\n      this.percentage = -1;\n    }\n  };\n\n\n  Expense.prototype.getPercentage = function() {\n    return this.percentage;\n  };\n\n\n  const Income = function(id, description, value) {\n    this.id = id;\n    this.description = description;\n    this.value = value;\n  };\n\n\n  const calculateTotal = function(type) {\n    let sum = 0;\n    data.allItems[type].forEach((cur) => {\n      sum += cur.value;\n    });\n    data.totals[type] = sum;\n  };\n\n\n  var data = {\n    allItems: {\n      exp: [],\n      inc: []\n    },\n    totals: {\n      exp: 0,\n      inc: 0\n    },\n    budget: 0,\n    percentage: -1\n  };\n\n\n  return {\n    addItem(type, des, val) {\n      let newItem,\n        ID;\n\n      // [1 2 3 4 5], next ID = 6\n      // [1 2 4 6 8], next ID = 9\n      // ID = last ID + 1\n\n      // Create new ID\n      if (data.allItems[type].length > 0) {\n        ID = data.allItems[type][data.allItems[type].length - 1].id + 1;\n      } else {\n        ID = 0;\n      }\n\n      // Create new item based on 'inc' or 'exp' type\n      if (type === 'exp') {\n        newItem = new Expense(ID, des, val);\n      } else if (type === 'inc') {\n        newItem = new Income(ID, des, val);\n      }\n\n      // Push it into our data structure\n      data.allItems[type].push(newItem);\n\n      // Return the new element\n      return newItem;\n    },\n\n\n    deleteItem(type, id) {\n      let ids,\n        index;\n\n      // id = 6\n      // data.allItems[type][id];\n      // ids = [1 2 4  8]\n      // index = 3\n\n      ids = data.allItems[type].map(current => current.id);\n\n      index = ids.indexOf(id);\n\n      if (index !== -1) {\n        data.allItems[type].splice(index, 1);\n      }\n    },\n\n\n    calculateBudget() {\n      // calculate total income and expenses\n      calculateTotal('exp');\n      calculateTotal('inc');\n\n      // Calculate the budget: income - expenses\n      data.budget = data.totals.inc - data.totals.exp;\n\n      // calculate the percentage of income that we spent\n      if (data.totals.inc > 0) {\n        data.percentage = Math.round((data.totals.exp / data.totals.inc) * 100);\n      } else {\n        data.percentage = -1;\n      }\n\n      // Expense = 100 and income 300, spent 33.333% = 100/300 = 0.3333 * 100\n    },\n\n    calculatePercentages() {\n      /*\n            a=20\n            b=10\n            c=40\n            income = 100\n            a=20/100=20%\n            b=10/100=10%\n            c=40/100=40%\n            */\n\n      data.allItems.exp.forEach((cur) => {\n        cur.calcPercentage(data.totals.inc);\n      });\n    },\n\n\n    getPercentages() {\n      const allPerc = data.allItems.exp.map(cur => cur.getPercentage());\n      return allPerc;\n    },\n\n\n    getBudget() {\n      return {\n        budget: data.budget,\n        totalInc: data.totals.inc,\n        totalExp: data.totals.exp,\n        percentage: data.percentage\n      };\n    },\n\n    testing() {\n      console.log(data);\n    }\n  };\n}());\n\n\n// UI CONTROLLER\nconst UIController = (function() {\n  const DOMstrings = {\n    inputType: '.add__type',\n    inputDescription: '.add__description',\n    inputValue: '.add__value',\n    inputBtn: '.add__btn',\n    incomeContainer: '.income__list',\n    expensesContainer: '.expenses__list',\n    budgetLabel: '.budget__value',\n    incomeLabel: '.budget__income--value',\n    expensesLabel: '.budget__expenses--value',\n    percentageLabel: '.budget__expenses--percentage',\n    container: '.container',\n    expensesPercLabel: '.item__percentage',\n    dateLabel: '.budget__title--month'\n  };\n\n\n  const formatNumber = function(num, type) {\n    var numSplit,\n      int,\n      dec,\n      type;\n    /*\n            + or - before number\n            exactly 2 decimal points\n            comma separating the thousands\n\n            2310.4567 -> + 2,310.46\n            2000 -> + 2,000.00\n            */\n\n    num = Math.abs(num);\n    num = num.toFixed(2);\n\n    numSplit = num.split('.');\n\n    int = numSplit[0];\n    if (int.length > 3) {\n      int = `${int.substr(0, int.length - 3)},${int.substr(int.length - 3, 3)}`; // input 23510, output 23,510\n    }\n\n    dec = numSplit[1];\n\n    return `${type === 'exp' ? '-' : '+'} ${int}.${dec}`;\n  };\n\n\n  const nodeListForEach = function(list, callback) {\n    for (let i = 0; i < list.length; i++) {\n      callback(list[i], i);\n    }\n  };\n\n\n  return {\n    getInput() {\n      return {\n        type: document.querySelector(DOMstrings.inputType).value, // Will be either inc or exp\n        description: document.querySelector(DOMstrings.inputDescription).value,\n        value: parseFloat(document.querySelector(DOMstrings.inputValue).value)\n      };\n    },\n\n\n    addListItem(obj, type) {\n      let html,\n        newHtml,\n        element;\n      // Create HTML string with placeholder text\n\n      if (type === 'inc') {\n        element = DOMstrings.incomeContainer;\n\n        html = '<div class=\"item clearfix\" id=\"inc-%id%\"> <div class=\"item__description\">%description%</div><div class=\"right-value\"><div class=\"item__value\">%value%</div><div class=\"item__delete\"><button class=\"item__delete--btn\"><i class=\"ion-ios-close-outline\"></i></button></div></div></div>';\n      } else if (type === 'exp') {\n        element = DOMstrings.expensesContainer;\n\n        html = '<div class=\"item clearfix\" id=\"exp-%id%\"><div class=\"item__description\">%description%</div><div class=\"right-value\"><div class=\"item__value\">%value%</div><div class=\"item__percentage\">21%</div><div class=\"item__delete\"><button class=\"item__delete--btn\"><i class=\"ion-ios-close-outline\"></i></button></div></div></div>';\n      }\n\n      // Replace the placeholder text with some actual data\n      newHtml = html.replace('%id%', obj.id);\n      newHtml = newHtml.replace('%description%', obj.description);\n      newHtml = newHtml.replace('%value%', formatNumber(obj.value, type));\n\n      // Insert the HTML into the DOM\n      document.querySelector(element).insertAdjacentHTML('beforeend', newHtml);\n    },\n\n\n    deleteListItem(selectorID) {\n      const el = document.getElementById(selectorID);\n      el.parentNode.removeChild(el);\n    },\n\n\n    clearFields() {\n      let fields,\n        fieldsArr;\n\n      fields = document.querySelectorAll(`${DOMstrings.inputDescription}, ${DOMstrings.inputValue}`);\n\n      fieldsArr = Array.prototype.slice.call(fields);\n\n      fieldsArr.forEach((current, index, array) => {\n        current.value = '';\n      });\n\n      fieldsArr[0].focus();\n    },\n\n\n    displayBudget(obj) {\n      let type;\n      obj.budget > 0 ? type = 'inc' : type = 'exp';\n\n      document.querySelector(DOMstrings.budgetLabel).textContent = formatNumber(obj.budget, type);\n      document.querySelector(DOMstrings.incomeLabel).textContent = formatNumber(obj.totalInc, 'inc');\n      document.querySelector(DOMstrings.expensesLabel).textContent = formatNumber(obj.totalExp, 'exp');\n\n      if (obj.percentage > 0) {\n        document.querySelector(DOMstrings.percentageLabel).textContent = `${obj.percentage}%`;\n      } else {\n        document.querySelector(DOMstrings.percentageLabel).textContent = '---';\n      }\n    },\n\n\n    displayPercentages(percentages) {\n      const fields = document.querySelectorAll(DOMstrings.expensesPercLabel);\n\n      nodeListForEach(fields, (current, index) => {\n        if (percentages[index] > 0) {\n          current.textContent = `${percentages[index]}%`;\n        } else {\n          current.textContent = '---';\n        }\n      });\n    },\n\n\n    displayMonth() {\n      let now,\n        months,\n        month,\n        year;\n\n      now = new Date();\n      // var christmas = new Date(2016, 11, 25);\n\n      months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n      month = now.getMonth();\n\n      year = now.getFullYear();\n      document.querySelector(DOMstrings.dateLabel).textContent = `${months[month]} ${year}`;\n    },\n\n\n    changedType() {\n      const fields = document.querySelectorAll(`${DOMstrings.inputType},${\n        DOMstrings.inputDescription},${\n        DOMstrings.inputValue}`);\n\n      nodeListForEach(fields, (cur) => {\n        cur.classList.toggle('red-focus');\n      });\n\n      document.querySelector(DOMstrings.inputBtn).classList.toggle('red');\n    },\n\n\n    getDOMstrings() {\n      return DOMstrings;\n    }\n  };\n}());\n\n\n// GLOBAL APP CONTROLLER\nconst controller = (function(budgetCtrl, UICtrl) {\n  const setupEventListeners = function() {\n    const DOM = UICtrl.getDOMstrings();\n\n    document.querySelector(DOM.inputBtn).addEventListener('click', ctrlAddItem);\n\n    document.addEventListener('keypress', (event) => {\n      if (event.keyCode === 13 || event.which === 13) {\n        ctrlAddItem();\n      }\n    });\n\n    document.querySelector(DOM.container).addEventListener('click', ctrlDeleteItem);\n\n    document.querySelector(DOM.inputType).addEventListener('change', UICtrl.changedType);\n  };\n\n\n  const updateBudget = function() {\n    // 1. Calculate the budget\n    budgetCtrl.calculateBudget();\n\n    // 2. Return the budget\n    const budget = budgetCtrl.getBudget();\n\n    // 3. Display the budget on the UI\n    UICtrl.displayBudget(budget);\n  };\n\n\n  const updatePercentages = function() {\n    // 1. Calculate percentages\n    budgetCtrl.calculatePercentages();\n\n    // 2. Read percentages from the budget controller\n    const percentages = budgetCtrl.getPercentages();\n\n    // 3. Update the UI with the new percentages\n    UICtrl.displayPercentages(percentages);\n  };\n\n\n  var ctrlAddItem = function() {\n    let input,\n      newItem;\n\n    // 1. Get the field input data\n    input = UICtrl.getInput();\n\n    if (input.description !== '' && !isNaN(input.value) && input.value > 0) {\n      // 2. Add the item to the budget controller\n      newItem = budgetCtrl.addItem(input.type, input.description, input.value);\n\n      // 3. Add the item to the UI\n      UICtrl.addListItem(newItem, input.type);\n\n      // 4. Clear the fields\n      UICtrl.clearFields();\n\n      // 5. Calculate and update budget\n      updateBudget();\n\n      // 6. Calculate and update percentages\n      updatePercentages();\n    }\n  };\n\n\n  var ctrlDeleteItem = function(event) {\n    let itemID,\n      splitID,\n      type,\n      ID;\n\n    itemID = event.target.parentNode.parentNode.parentNode.parentNode.id;\n\n    if (itemID) {\n      // inc-1\n      splitID = itemID.split('-');\n      type = splitID[0];\n      ID = parseInt(splitID[1]);\n\n      // 1. delete the item from the data structure\n      budgetCtrl.deleteItem(type, ID);\n\n      // 2. Delete the item from the UI\n      UICtrl.deleteListItem(itemID);\n\n      // 3. Update and show the new budget\n      updateBudget();\n\n      // 4. Calculate and update percentages\n      updatePercentages();\n    }\n  };\n\n\n  return {\n    init() {\n      console.log('Application has started.');\n      UICtrl.displayMonth();\n      UICtrl.displayBudget({\n        budget: 0,\n        totalInc: 0,\n        totalExp: 0,\n        percentage: -1\n      });\n      setupEventListeners();\n    }\n  };\n}(budgetController, UIController));\n\n\ncontroller.init();\n"]}